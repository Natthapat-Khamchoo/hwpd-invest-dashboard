@import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Glass & Glow Utilities */
@layer components {
    .glass-panel {
        @apply bg-slate-900/60 backdrop-blur-md border border-white/10 shadow-xl;
    }

    .glass-card {
        @apply bg-slate-800/40 backdrop-blur-sm border border-white/5 shadow-lg transition-all duration-300 hover:bg-slate-800/60 hover:border-white/20 hover:shadow-blue-500/10 hover:-translate-y-1;
    }

    /* New Liquid Glass Effect */
    .glass-liquid {
        @apply bg-slate-800/30 backdrop-blur-md border border-white/10 shadow-2xl;
        box-shadow:
            0 8px 32px 0 rgba(0, 0, 0, 0.37),
            inset 0 0 30px rgba(255, 255, 255, 0.05),
            inset 0 0 0 1px rgba(255, 255, 255, 0.1);
        background: linear-gradient(145deg,
                rgba(255, 255, 255, 0.05) 0%,
                rgba(255, 255, 255, 0.01) 100%);
    }

    .glass-liquid:hover {
        box-shadow:
            0 15px 40px 0 rgba(0, 0, 0, 0.45),
            inset 0 0 40px rgba(255, 255, 255, 0.1),
            inset 0 0 0 1px rgba(255, 255, 255, 0.2);
        @apply -translate-y-1;
    }

    /* Header/Bar specific liquid glass */
    .glass-liquid-bar {
        @apply bg-slate-900/60 backdrop-blur-md border-white/10 relative overflow-hidden;
        background: linear-gradient(to bottom,
                rgba(255, 255, 255, 0.03) 0%,
                rgba(255, 255, 255, 0) 100%);
        box-shadow:
            0 4px 30px rgba(0, 0, 0, 0.2),
            inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }

    .neon-text {
        filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.5));
    }

    .glow-on-hover:hover {
        box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
        @apply border-blue-400/50;
    }

    /* NEW: Hightech & Liquid Additions */
    .hightech-border {
        @apply relative border border-blue-500/20;
        box-shadow: 0 0 15px rgba(59, 130, 246, 0.1);
    }

    .hightech-border::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 8px;
        height: 8px;
        border-top: 2px solid #60a5fa;
        border-left: 2px solid #60a5fa;
        opacity: 0.5;
    }

    .hightech-border::after {
        content: '';
        position: absolute;
        bottom: 0;
        right: 0;
        width: 8px;
        height: 8px;
        border-bottom: 2px solid #60a5fa;
        border-right: 2px solid #60a5fa;
        opacity: 0.5;
    }

    .liquid-bg-anim {
        background: linear-gradient(-45deg, #0f172a, #1e3a8a, #0f172a, #312e81);
        background-size: 400% 400%;
        animation: liquid-flow 15s ease infinite;
    }

    /* Logo Rotation Effect */
    .hover-rotate-y-360 {
        transition: transform 1s ease-in-out;
        transform-style: preserve-3d;
    }

    .hover-rotate-y-360:hover {
        transform: rotateY(360deg) scale(1.1);
    }

    /* Digital Circuit Animation (Dashed Line Flow) */
    .beam-path {
        stroke-dasharray: 40 800;
        /* 40px line, 800px gap */
        stroke-dashoffset: 840;
        animation: beam-flow 3s linear infinite;
        stroke-linecap: round;
        filter: drop-shadow(0 0 5px currentColor);
    }

    .beam-delay-1 {
        animation-delay: 0.5s;
    }

    .beam-delay-2 {
        animation-delay: 1.2s;
    }

    .beam-delay-3 {
        animation-delay: 2.0s;
    }

    /* --- EXPORT MODE OVERRIDES (Strict Fidelity) --- */
    .export-mode .liquid-bg-anim,
    .export-mode.liquid-bg-anim {
        background: #020617 !important;
        /* Solid dark background */
        animation: none !important;
    }

    .export-mode .hightech-border {
        border-color: rgba(255, 255, 255, 0.1) !important;
        background-color: rgba(255, 255, 255, 0.05) !important;
        box-shadow: none !important;
        backdrop-filter: none !important;
    }

    .export-mode .hightech-border::before,
    .export-mode .hightech-border::after {
        display: none !important;
        /* Hide corner accents in export */
    }

    .export-mode .glass-liquid {
        background: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        box-shadow: none !important;
        backdrop-filter: none !important;
    }

    .export-mode .text-glow-liquid,
    .export-mode .drop-shadow-sm,
    .export-mode .drop-shadow-md {
        filter: none !important;
        text-shadow: none !important;
    }

    /* Force text colors to be solid and readable in export */
    .export-mode .text-transparent {
        color: #f1f5f9 !important;
        /* slate-100 */
        -webkit-text-fill-color: #f1f5f9 !important;
        background: none !important;
    }

    .export-mode .exclude-in-export-mode {
        display: none !important;
    }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: #0f172a;
}

::-webkit-scrollbar-thumb {
    background: #334155;
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: #475569;
}

/* Animations */
@keyframes liquid-flow {
    0% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }

    100% {
        background-position: 0% 50%;
    }
}

@keyframes shimmer {
    0% {
        transform: translateX(-150%) skewX(-15deg);
    }

    100% {
        transform: translateX(150%) skewX(-15deg);
    }
}

.shimmer-trigger {
    @apply relative overflow-hidden;
}

.shimmer-trigger::after {
    content: '';
    @apply absolute top-0 left-0 w-1/2 h-full bg-gradient-to-r from-transparent via-white/10 to-transparent skew-x-[-15deg] translate-x-[-150%];
}

.shimmer-trigger:hover::after {
    animation: shimmer 0.8s ease-in-out;
}

/* New Pulse Slow */
@keyframes pulse-slow {

    0%,
    100% {
        opacity: 1;
        box-shadow: 0 0 15px rgba(239, 68, 68, 0.4);
    }

    50% {
        opacity: 0.8;
        box-shadow: 0 0 25px rgba(239, 68, 68, 0.7);
    }
}

.animate-pulse-slow {
    animation: pulse-slow 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Beam Flow Animation (Dashed Line) */
@keyframes beam-flow {
    to {
        stroke-dashoffset: 0;
    }
}

@keyframes stroke-anim {
    0% {
        stroke-dashoffset: 3500;
    }

    100% {
        stroke-dashoffset: 0;
    }
}

.text-stroke-neon {
    stroke-dasharray: 200 300;
    /* Long dash, longer gap */
    stroke-width: 2px;
    animation: stroke-anim 15s linear infinite;
    filter: drop-shadow(0 0 5px #3b82f6) drop-shadow(0 0 10px #3b82f6);
}

@layer base {
    body {
        @apply font-sans bg-hwpd-dark text-slate-100 overflow-hidden;
    }
}

@layer utilities {
    .digital-bg {
        background-color: #0f172a;
        background-image: radial-gradient(circle at 50% 50%, #1e293b 1px, transparent 1px);
        background-size: 30px 30px;
    }
}